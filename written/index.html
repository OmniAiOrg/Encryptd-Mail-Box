<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
	
<script
  src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>
  
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  
<link
  async
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"
/>

<meta property="og:type" content="website" />
<meta property="og:title" content="æ ‘æ´ğŸ» è®°å½•ä½ çš„æ‰€æ€æ‰€æƒ³ï¼">
<meta property="og:description" content="è¿™é‡Œæ˜¯ä½ æŠ•é€’è‡ªå·±ç§˜å¯†çš„æ ‘æ´ï¼Œä¹Ÿæ˜¯è¡¨è¾¾æƒ…æ„«çš„æ¡¥æ¢ã€‚ç§˜å¯†æ ‘æ´ï¼Œè®°å½•å¿ƒæƒ…ï¼Œè—ä½ç§˜å¯†ï¼Œè¡¨è¾¾ç›¸æ€ã€‚">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008i3skNgy1gts3e8njfzj605k05kwef02.jpg">
<meta property="og:url" content="https://mail.omniai.org">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-V7SKQ9WKTY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-V7SKQ9WKTY');
</script>


<!-- Global site tag (hm.js) - Baidu Analytics -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?81a90f75fb963f3384ad90a9c5100738";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<script>
function auto_copyright($year) {
	var $currentdate = new Date();
	var $currentyear = $currentdate.getFullYear();
	var $cty = $currentyear.toString();
	var $sty = $year.toString();
	if ($currentyear > $year) {
		document.write($sty + ' - ' + $cty);
		console.log($cty);
	} else {
		document.write($cty);
	}
}
</script>

<script
  async
  src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"
></script>

<script>
const serverIpAddress = "http://localhost:8000";
const paramName = "id";

function submitForm() {
    // æäº¤è¡¨æ ¼åˆ°æœåŠ¡å™¨ï¼Œå¹¶ä¸”è¿”å›åº”æœ‰çš„ç´¢å¼•ç¼–ç 
    console.log('submitForm')
    var TitleText = document.getElementById("Title").value;
    var AccessCode = document.getElementById("AccessCode").value;
    var textarea = document.getElementById("textarea").value;
    console.log('Title: '+TitleText+', AccessCode: '+AccessCode+', textarea:'+textarea)

    if (TitleText.length === 0) {
        document.getElementById("info").innerHTML = 
        "<div class=\"ui orange mini message\">æ ‡é¢˜ä¸è¦ä¸ºç©ºå“¦</div>"
        return;
    } else if (textarea.length === 0) {
        document.getElementById("info").innerHTML = 
        "<div class=\"ui orange mini message\">å†…å®¹ä¸è¦ä¸ºç©ºå“¦</div>"
        return;
    }

    const domain = document.domain;

    $.ajax({
        type: "POST",
        url: serverIpAddress+"/data",
        // The key needs to match your method's input parameter (case-sensitive).
        data: JSON.stringify({
            title: TitleText,
            password: AccessCode,
            text: textarea
        }),
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function(data){
            console.log(data);
            document.getElementById("info").innerHTML = "<div class=\"ui blue message\"> Your Link is: "+
                'http://'+domain + '/hollow?'+paramName+'=' + data["code"]+"</div>"
        },
        error: function(errMsg) {
            alert(errMsg);
        }
    });
}

let code;

function getData(passwordExist=true) {
    // è·å–æ•°æ®
    let pass = document.getElementById("AccessCode")
    if (pass){pass = pass.value;} else {pass="";}
    console.log('code: '+code+', +pass: '+pass)

    if (code.length === 0) {
        document.getElementById("info").innerHTML = 
        "<div class=\"ui mini message\">è¯·è¾“å…¥æœ‰æ•ˆé“¾æ¥å“¦ğŸ”—</div>"
        return;
    } else if (pass.length === 0 && passwordExist) {
        document.getElementById("info").innerHTML = 
        "<div class=\"ui mini message\">ç§˜é’¥ä¸èƒ½ä¸ºç©ºå“¦</div>"
        return;
    }

    $.ajax({
        type: "GET",
        url: serverIpAddress+"/data?code="+code+"&pass="+pass,
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function(data){
            console.log(data);
            const template = 
            '<div class="ui centered cards">\
                <div class="card">\
                    <div class="content">\
                      <div class="header">'+data["title"]+'</div>\
                      <div class="description"> ' +
                      data["text"]+
                      '</div>\
                    </div>\
                </div>\
              </div>'
            document.getElementById("info").innerHTML = template
        },
        error: function(errMsg) {
            document.getElementById("info").innerHTML = 
                "<div class=\"ui mini message\">è¯·ä½¿ç”¨æ­£ç¡®çš„ç§˜é’¥ğŸ”‘</div>"
        }
    });
}


function getQueryVariable(variable=paramName, set_info=true) {
    // è·å–params
   var query = window.location.search.substring(1);
   var vars = query.split("&");
   for (var i=0;i<vars.length;i++) {
           var pair = vars[i].split("=");
           if(pair[0] == variable){
            code = pair[1];
            $.ajax({
                type: "GET",
                url: serverIpAddress+"/data/title?code="+code,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function(data){
                    console.log('title: '+data["title"]+", code: "+code);
                    passwordExist = data["password"];

                    if (set_info && passwordExist){
                        document.getElementById("title").innerHTML = 
                        '<h3 class="ui center aligned dividing header">'
                        +data["title"]+
                        '</h3>';
                    }

                    
                    if (!passwordExist || passwordExist == false) {
                        getData(passwordExist);
                    } else {
                        document.getElementById("form").innerHTML = 
                        "<div class=\"ui form\">\
                            <div class=\"field\">\
                              <input type=\"text\" placeholder=\"ç§˜é’¥\" id=\"AccessCode\">\
                            </div>\
                          <a class=\"fluid ui submit button\" href=\"javascript: getData()\">æ‹†å°</a>\
                        </div>";
                    }
                    return code;
                },
                error: function(errMsg) {
                    console.log(errMsg.status);
                    if (errMsg.status == 404) {
                        document.getElementById("info").innerHTML = 
                        "<div class=\"ui mini message\">404 - æ ‘æ´é‡Œæ²¡æœ‰è¿™å°ä¿¡å“¦ğŸ»</div>"
                    }
                    else if(errMsg.status >= 500 || errMsg.status == 0){
                        document.getElementById("info").innerHTML = 
                        "<div class=\"ui mini message\">æ ‘æ´æš‚æ—¶å¤±è”å•¦ï¼ç¨‹åºå‘˜å°å“¥å“¥æ­£åœ¨ç´§æ€¥ä¿®å¤ä¸­ ğŸ”§</div>"
                    }
                }
            });
            return '';
        }
   }
   return '';
}

</script>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="robots" content="index, follow" />
		<meta name="generator" content="RapidWeaver" />
		<link rel="apple-touch-icon" sizes="167x167" href="https://mail.omniai.org/resources/medium.png" />
<link rel="apple-touch-icon" sizes="180x180" href="https://mail.omniai.org/resources/3cc14307c3269330dee421c19ac1c954_26104_512_512.png" />
<link rel="apple-touch-icon" sizes="152x152" href="https://mail.omniai.org/resources/small.png" />
<link rel="mask-icon" href="https://mail.omniai.org/resources/%E6%B5%A3%E7%86%8A.svg" color="rgba(76,76,76,1.00)" /><link rel="icon" type="image/png" href="https://mail.omniai.org/resources/favicon_medium.png" sizes="32x32" />
<link rel="icon" type="image/png" href="https://mail.omniai.org/resources/favicon_small.png" sizes="16x16" />
<link rel="icon" type="image/png" href="https://mail.omniai.org/resources/favicon_large.png" sizes="64x64" />

	
	<title>å†™ä¿¡ | æ ‘æ´</title>
	<link rel="stylesheet" type="text/css" media="all" href="../rw_common/themes/Engineer/consolidated-4.css?rwcache=651498731" />
		
	    		<link rel='stylesheet' type='text/css' media='all' href='../rw_common/plugins/stacks/stacks.css?rwcache=651498731' />
		<link rel='stylesheet' type='text/css' media='all' href='files/stacks_page_page4.css?rwcache=651498731' />
        
        
        
        
		
        <meta name="formatter" content="Stacks v4.2.0 (5461)" >
		<meta class="stacks4 stack version" id="com.rapidweavercentral.stacks.notething" name="NoteThing" content="1.0.1">
		

</head>

<!-- This page was created with RapidWeaver from Realmac Software. http://www.realmacsoftware.com -->

<body>
	<div class="hero" id="hero">
		<nav class="navbar navbar-expand-lg">
			<a class="navbar-brand" href="https://mail.omniai.org/"> <span class="navbar-title">æ ‘æ´</span></a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav ml-auto"><li class="nav-item"><a href="../" rel="" class="nav-link">æ ‘æ´</a></li><li class="nav-item active"><a href="./" target="_blank" class="nav-link">å†™ä¿¡</a></li></ul>
			</div>
		</nav>

		<div class="hero-content container d-flex align-items-center" id="hero">
			<div class="">
				<h1 class="hero-title">æ ‘æ´</h1>
				<p class="hero-slogan display-4">æ ‘æ´ï¼Œè®°å½•ä½ çš„æ‰€æ€æ‰€æƒ³</p>
			</div>
			<div class="hero-background" title="æ ‘æ´"></div>
			<div class="hero-overlay"></div>
		</div>

	</div>

    <div class="content">
        <section class="main" style="position: relative;">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12 main">
                        
<div id='stacks_out_1' class='stacks_top'><div id='stacks_in_1' class=''><div id='stacks_out_2' class='stacks_out'><div id='stacks_in_2' class='stacks_in com_rapidweavercentral_stacks_notething_stack'><!-- NoteThing by RapidWeaver Central. Visit http://www.weaverthings.com for more information. -->

<div id="notethingstacks_in_2">
 <div class="notepad">
	<div class="notepad-heading static-bg0stacks_in_2 ">ä¿¡ç¬º</div>
    <div class="note-entry"><div id='stacks_out_4' class='stacks_out'><div id='stacks_in_4' class='stacks_in html_stack'>
<div class="ui form">
  <div class="two fields">
    <div class="ten wide field">
      <label>æ ‡é¢˜</label>
      <input type="text" placeholder="å…¬å¼€" id="Title">
    </div>
    <div class="six wide field">
      <label>ç§˜é’¥</label>
      <input type="text" placeholder="å¯é€‰" id="AccessCode">
    </div>
  </div>
  <div class="field">
	<label>æ­£æ–‡</label>
	<textarea id="textarea"></textarea>
  </div>
  
  <a class="fluid ui submit button" href="javascript: submitForm()">æŠ•é€’</a>
</div></div></div></div>    
    </div>
</div>

<!-- end of NoteThing -->
</div></div><div id='stacks_out_6' class='stacks_out'><div id='stacks_in_6' class='stacks_in stack_stack'><div id='stacks_out_8' class='stacks_out'><div id='stacks_in_8' class='stacks_in html_stack'><div id="info"></div></div></div></div></div></div></div>

                    </div>

                    <div class="col-sm-12 sidebar">
                        <h2></h2>
                         
                    </div>
                </div>
            </div>
        </section>
    </div>

	<footer class="footer">
		<div class="container">
			<div class="row">
				<div class="col-sm-12 footer-content">
					<ul class="navbar-nav ml-auto"><li class="nav-item"><a href="../" rel="" class="nav-link">æ ‘æ´</a></li><li class="nav-item active"><a href="./" target="_blank" class="nav-link">å†™ä¿¡</a></li></ul>
					&copy; <script>auto_copyright(2020);</script> OmniAi.org</p> <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span>; </span>         <span id="busuanzi_container_site_uv">UV: <span id="busuanzi_value_site_uv"></span>; </span>         <span id="busuanzi_container_page_pv">Page PV:<span id="busuanzi_value_page_pv"></span>.</span>     </p> <a href="#" id="rw_email_contact">è”ç³»æ ‘æ´</a><script type="text/javascript">var _rwObsfuscatedHref0 = "mai";var _rwObsfuscatedHref1 = "lto";var _rwObsfuscatedHref2 = ":bh";var _rwObsfuscatedHref3 = "228";var _rwObsfuscatedHref4 = "3@n";var _rwObsfuscatedHref5 = "yu.";var _rwObsfuscatedHref6 = "edu";var _rwObsfuscatedHref = _rwObsfuscatedHref0+_rwObsfuscatedHref1+_rwObsfuscatedHref2+_rwObsfuscatedHref3+_rwObsfuscatedHref4+_rwObsfuscatedHref5+_rwObsfuscatedHref6; document.getElementById("rw_email_contact").href = _rwObsfuscatedHref;</script>
				</div>
			</div>
		</div>
	</footer>

	<script type="text/javascript" src="../rw_common/themes/Engineer/js/main.js?rwcache=651498731"></script>
</body>

</html>